---
layout: base.liquid
---
<!-- https://www.viewstl.com/plugin/ -->
<script src="/code/stl_viewer.min.js"></script>

<!-- Display a ship  -->
{% assign navPages = collections.all | eleventyNavigationBreadcrumb: "Ship" %}
<a href="{{ navPages[0].url}}#{{id}}">Back to ships</a>
<section>
  <h2>{{ title }}</h2>
  <h3>Model by <span class="stock">{{ author }}</span></h3>
  <div class="flexMeta">
    <p>{{ source }}</p>
    <p><a href="{{ download }}" target="_blank">Download</a></p>
  </div>
  {{ content }}
  <div class="STLProgress">
    <p id="STLFileLoading" >Loading 3D Preview ...</p>
  </div>
  <div id="STLViewer" style="height:50vh"></div>
  <script>
    function loadedModel(model_id) {
      //console.log("loadModel ", model_id);
      document.getElementById("STLFileLoading").innerHTML = "";
    }
  
	  var stl_viewer=new StlViewer(
      document.getElementById("STLViewer"), 
      { 
        model_loaded_callback:loadedModel,
        models: [ 
          {id:0, filename:"{{ model }}"} 
        ] 
      }
    );
  </script> 
</section>

